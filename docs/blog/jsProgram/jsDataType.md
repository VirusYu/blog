---
title: JavaScript高级程序设计 - 数据类型
date: 2021-03-31
tags:
  - JavaScript
categories:
  - JavaScript
publish: true
---

[[toc]]

## 数据类型

`ECMAScript`中有 6 种简单数据类型（也称为**原始类型**）：`Undefined`、`Null`、`Boolean`、`String`、`Number`、`Symbol`，还有一种复杂数据类型为`Object`，像 js 中的`Function`、'Array'等都是`Object`。`Object`是一种无序键值对的集合。因为在`ECMAScript`不能定义自己的数据类型，所有值都可以用上述 7 中之一来表示。

## typeof 操作符

因为`ECMAScript`中的类型系统是松散的，所以需要一种手段来确定任意变量的数据类型，`typeof`就是为此而生的。

对一个值使用`typeof`操作符会返回下列字符串之一：

- `undefined`表示值未定义
- `boolean`表示值为布尔值
- `string`表示值为字符串
- `number`表示值为数值
- `object`表示值为对象或`null`
- `function`表示值为函数
- `symbol`表示值为`symbol`(符号)

## Undefined 类型

`Undefined`类型只有一个值，就是`Undefined`，当使用`var`和`let`声明变量但没有初始化时，就相当于给变量赋值了`Undefined`。

## Null 类型

`Null`类型也只有一个值，即特殊值`null`，逻辑上讲`null`值表示一个空对象指针。这也是`typeof null`会返回`object`的原因之一，当然也算是历史遗留问题。

## Boolean 类型

`Boolean`类型是 js 中使用最频繁的类型之一，有两个字面值：`true`和`false`。这两个值不同于数值，因此`true`不等于 1，`false`不等于 0。
虽然布尔值只有两个，但是所有其他 js 类型的值，都有对应的布尔值的等价形式。可以使用特定的`Boolean()`转型函数。

| 数据类型  | 转化为 true           | 转化为 false |
| --------- | --------------------- | ------------ |
| Boolean   | true                  | false        |
| String    | 非空字符串            | ""(空字符串) |
| Number    | 非 0 数值（包括无穷） | 0、NaN       |
| Object    | 任意对象              | Null         |
| Undefined | 不存在                | undefined    |

以上转换非常重要，因为像 if 等语句，会自动执行其他类型到布尔值的转换。

## Number 类型

在 js 中，`number`类型使用**IEEE 754**格式表示整数和浮点数，不同的数值类型相应的也有不同的数值字面量格式。

最基本的数值字面量格式是十进制，直接写出来即可。整数也可以用八进制或者十六进制字面量表示。对于八进制字面量，第一个数字必须是 0，然后是相应的八进制数字。如果字面中包含的数字超出了应有的范围，就会忽略前面的 0，后边的数字会被当成十进制数。八进制字面量在严格模式下是无效的。(在 ES6 以后，白禁止通过前缀 0o 表示)

十六进制字面量，必须让真正的数值前缀 0x(区分大小写)，然后是十六进制数字（0~9 以及 A~F）。十六进制中的字母大小写均可。

使用八进制和十六进制格式创建的数值，在所有数学操作中都被视为十进制数值。

### 浮点值

要定义浮点值，数值中必须包含小数点，而且小数点后面必须只要有一个数字，虽然小数点前面不是必须有整数，但是推荐加上。

因为存储浮点值使用的内存空间是存储整数值的两倍，所有 js 总是想办法将值转换为整数。如：小数点后面没有数字的情况或者数值本身就是整数，只是小数点后面跟着 0（如 1.0），那他也会被转换为整数。

对于非常大或者非常小的数值，浮点数可以用科学技术法表示。科学技术法的格式要求是一个数值（整数或者浮点数）就跟一个大写或者小写的字母 e，再加上一个要乘的 10 的多少次幂，比如：

```js
let floatNum = 3.1415e7 // 等价于31415000
```

如果要表示非常小的数值也可以用科学技术法，例如`0.000 000 000 000 000 03`，可以表示为`3e-17`。默认情况下，js 会将小数点后至少含有 6 个 0 的浮点数装换为科学技术法。

浮点值的精确度最高可达 17 位小数，但在算数计算中远不如整数精确，例如`0.1+0.2=0.30000000000000004`。

### 值的范围

因为内存的限制，js 并不支持表示世界上的所有数值。js 可以表示的最小数值保存在`Number.MIN_VALUE`中，最大值保存在`Number.MAX_VALUE`中。如果某个计算得到的数值结果超过了 js 可以表示的范围，那么这个数值会自动转换为一个特殊的`Infinity`(无穷)值。任何无法表示的负数以`-Infinity`(负无穷大)，任何无法表示的正数以`Infinity`表示。

如果计算返回`Infinity`或者`-Infinity`则该值不能在进一步用于任何计算。

要确定一个值是不是有限大，可以通过`isFinite()`函数来判断。

> 使用`Number.NEGATIVE_INFINITY`和`Number.POSITIVE_INFINITY`也可以获取负无穷和正无穷，这两个属性包含的值就是`-Infinity`h 和`Infinity`。

### NaN

有一个特殊的数值叫 `NaN`，意思是“不是数值”（Not a Number），用于表示本来要返回数值的操作失败了（而不是抛出错误）。比如，用 `0` 除任意数值在其他语言中通常都会导致错误，从而中止代码执行。但在 ECMAScript 中，`0`、`+0` 或`-0` 相除会返回 NaN。

```js
console.log(0 / 0) // NaN
console.log(-0 / +0) // NaN
```



### 数值转换

## String 类型
